---
layout: layouts/base.njk
title: Notebook
---

<section class="tags">
  <div>
    {% set allTags = notebook.notes | map("tags") | flatten | unique %}
    {% for tag in allTags %}
      {% set count = notebook.tagCounts[tag] %}
      <a href="?tag={{ tag }}" class="tag-button">#{{ tag }} ({{ count }})</a>
    {% endfor %}
  </div>
</section>

<section class="notes">
  <ul class="note-list">
    {% for note in notebook.notes %}
      <li class="note" data-tags="{{ note.tags | join(',') }}">
        <span class="note-date">{{ note.date | shortDate }}</span>
        <span class="note-title">
          <a href=".{{ note.path }}">{{ note.title }}</a>
        </span>
      </li>
    {% endfor %}
  </ul>
</section>

<script>
  const urlParams = new URLSearchParams(window.location.search);
  const tag = urlParams.get('tag');
  if (tag) {
    document.querySelectorAll('.note').forEach(note => {
      const noteTags = note.getAttribute('data-tags').split(',');
      if (!noteTags.includes(tag)) {
        note.style.display = 'none';
      }
    });
  }
</script>
